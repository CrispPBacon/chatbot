import{u as E,r as a,j as e,b as A}from"./index-INcyO_Ty.js";function M(){const n=E(),[l,g]=a.useState(""),[u,v]=a.useState(""),[c,x]=a.useState(""),[f,C]=a.useState(""),[s,S]=a.useState(""),[m,j]=a.useState(""),[i,N]=a.useState(""),[w,p]=a.useState(!0),[y,r]=a.useState(""),P=t=>{if(t.preventDefault(),p(!0),s!==m)return r("Password does not match");const b={first_name:l,last_name:u,username:c,email:f,password:s,avatar:i};A.post("/api/user",{data:b},{withCredentials:!0}).then(o=>{console.log(o),p(!1),r("Account successfully created!"),setTimeout(()=>n("/login",{replace:!0}),1500)}).catch(o=>{var d,h;return r(((h=(d=o==null?void 0:o.response)==null?void 0:d.data)==null?void 0:h.error.message)||o.message)})};return e.jsxs("div",{className:"auth-container light-shadow flex-center flex--column",children:[e.jsx("h3",{children:"Sign up"}),e.jsx("span",{className:w?"auth-msg error":"auth-msg",children:y}),e.jsxs("form",{onSubmit:P,className:"auth-form",children:[e.jsxs("div",{className:"form-item form-container",children:[e.jsxs("div",{className:"flex--row",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"First Name",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:l,onChange:t=>g(t.target.value)}),"Â ",e.jsx("input",{type:"text",className:"form-control",placeholder:"Last Name",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:u,onChange:t=>v(t.target.value)})]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Username",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:c,onChange:t=>x(t.target.value)}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Email",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:f,onChange:t=>C(t.target.value)}),e.jsx("input",{type:"password",className:"form-control",placeholder:"Password",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:s,onChange:t=>S(t.target.value)}),e.jsx("input",{type:"password",className:"form-control",placeholder:"Confirm Password",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:m,onChange:t=>j(t.target.value)}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Avatar Image Link Url",autoComplete:"off",autoSave:"off",autoCorrect:"off",value:i,onChange:t=>N(t.target.value),style:{marginTop:"2rem"}})]}),e.jsx("div",{className:"form-item",children:e.jsx("button",{className:"btn btn-dark",children:"Sign up"})})]}),e.jsxs("p",{children:["Already have an account?"," ",e.jsx("a",{onClick:()=>n("/login"),children:"Login."})]})]})}export{M as default};
